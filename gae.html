
<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE html PUBLIC "-//ABISOURCE//DTD XHTML plus AWML 2.2//EN" "http://www.abisource.com/2004/xhtml-awml/xhtml-awml.mod"> 
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:awml="http://www.abisource.com/2004/xhtml-awml/"> 
 <head> 
  <!-- ======================================================= --> 
  <!-- Created by AbiWord, a free, Open Source wordprocessor.  --> 
  <!-- For more information visit http://www.abisource.com.    --> 
  <!-- ======================================================= --> 
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" /> 
  <title>3</title> 
  <style type="text/css"> 
   <!--
#toc,
.toc,
.mw-warning {
    border: 1px solid #aaa;
    background-color: #f9f9f9;
    padding: 5px;
    font-size: 95%;
}
#toc h2,
.toc h2 {
    display: inline;
    border: none;
    padding: 0;
    font-size: 100%;
    font-weight: bold;
}
#toc #toctitle,
.toc #toctitle,
#toc .toctitle,
.toc .toctitle {
    text-align: center;
}
#toc ul,
.toc ul {
    list-style-type: none;
    list-style-image: none;
    margin-left: 0;
    padding-left: 0;
    text-align: left;
}
#toc ul ul,
.toc ul ul {
    margin: 0 0 0 2em;
}
#toc .toctoggle,
.toc .toctoggle {
    font-size: 94%;
}@media print, projection, embossed {
    body {
        padding-top:0.7875in;
        padding-bottom:1.1757in;
        padding-left:0.7875in;
        padding-right:0.7875in;
    }
}
#footer {
position: relative;
width: 100%;
height: auto;
top: auto;
bottom: 0;
right: 0;
left: 0;
}
body {
    text-indent:0in;
    text-align:justify;
    font-weight:normal;
    text-decoration:none;
    font-variant:normal;
    color:#000000;
    font-size:11pt;
    font-style:normal;
    widows:2;
    font-family:'Calibri';
}
table {
}
td {
    border-collapse:collapse;
    text-align:left;
    vertical-align:top;
}
p, h1, h2, h3, li {
    color:#000000;
    font-family:'Calibri';
    font-size:11pt;
    margin-bottom:10pt;
    text-align:justify;
    vertical-align:normal;
}
h1 {
    color:#ffff00;
    font-family:'Cambria';
    font-size:14pt;
    font-weight:bold;
    margin-bottom:3pt;
    margin-top:24pt;
    page-break-after:avoid;
}
*.footer {
}
h2 {
    color:#ffff00;
    font-family:'Cambria';
    font-size:13pt;
    font-weight:bold;
    margin-bottom:3pt;
    margin-top:10pt;
    page-break-after:avoid;
}
h3 {
    color:#ffff00;
    font-family:'Cambria';
    font-weight:bold;
    margin-bottom:3pt;
    margin-top:10pt;
    page-break-after:avoid;
}
*.table_contents {
}
*.table_heading {
    font-weight:bold;
    text-align:center;
}
*.preformatted_text {
    font-family:'Consolas';
    font-size:10pt;
    margin-bottom:5pt;
    text-align:left;
}
     -->
  </style> 
 </head> 
 <body> 
  <div> 
   <h1 dir="ltr" style="text-align:justify;margin-bottom:6pt;margin-top:12pt"><a name="google_app_engine_-_rakendused_pilvedess" id="google_app_engine_-_rakendused_pilvedess"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> &#150; rakendused pilvedesse</span></a></h1> 
   <h2 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="google_pilveteenus" id="google_pilveteenus"><span xml:lang="et-EE" lang="et-EE">1. Sissejuhatus</span></a></h2> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Viimastel aastatel on tugevalt esile kerkinud uus suund andmetöötluses &#150; pilvandmetöötlus (ingl </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Cloud Computing</span><span xml:lang="et-EE" lang="et-EE">) ning sellega seotud märksõnad nagu </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">SaaS </span><span xml:lang="et-EE" lang="et-EE">või </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Amazon AWS</span><span xml:lang="et-EE" lang="et-EE">. Küll aga on vähem räägitud, kuidas lisandunud võimalusi reaalselt kasutada, ning kas tegu on vaid turunduslikku sõnumit kandvate teadetega või on tegemist ka millegi reaalselt kasulikuga.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Käesolev artikkel üritab osaliselt tühimikku täita ning tutvustab </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google</span><span xml:lang="et-EE" lang="et-EE">&#146;i pakutavat pilveteenust nimega </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">. Lühidalt on juttu ka pilveteenustest ning pilvandmetöötlusest üldises plaanis.</span></p> 
   <h2 dir="ltr" style="text-align:justify;margin-top:10pt"><span xml:lang="et-EE" lang="et-EE">2. Google&#146;i pilveteenus</span></h2> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> [1] on </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google</span><span xml:lang="et-EE" lang="et-EE">&#146;i infrastruktuuril põhinev veebirakenduste platvorm. Tegu on andmetöötluse teenusega, kus andmed paiknevad niiöelda serverite </span><span style="font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">pilves</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">,</span><span xml:lang="et-EE" lang="et-EE"> võimaldades sellega vajaduse korral täiendavalt kasutada teiste pilves paiknevate serverite ressursse. Taoline arhitektuur pakub väga suurt skaleeruvust &#150; üksiku serveri puhul saab ressursse kasutada vaid konkreetse serveri limiitide raames ning kui nendest ei jätku, tuleb kas serveri riistvara uuendada või server hoopis välja vahetada.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Pilveteenuse kasutaja jaoks on pilve näol tegu omamoodi musta kastiga, millel on küll sisendid ja väljundid, kuid mille reaalsest sisust ülevaade puudub. Kõik pilveteenused saab üldjoontes jagada kolmeks suuremaks grupiks (Joonis 1): </span><span style="font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">infrastruktuur kui teenus</span><span xml:lang="et-EE" lang="et-EE"> (</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">IaaS, Infrastructure as a Service</span><span xml:lang="et-EE" lang="et-EE">), </span><span style="font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">platvorm kui teenus</span><span xml:lang="et-EE" lang="et-EE"> (</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">PaaS, Platform as a Service</span><span xml:lang="et-EE" lang="et-EE">) ning </span><span style="font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">tarkvara kui teenus</span><span xml:lang="et-EE" lang="et-EE"> (</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">SaaS, Software as a Service</span><span xml:lang="et-EE" lang="et-EE">), millest igaüks kannab eri abstraheerituse taset. Kui tarkvarateenus (</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">SaaS</span><span xml:lang="et-EE" lang="et-EE">, näiteks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Gmail</span><span xml:lang="et-EE" lang="et-EE"> [2] e-posti rakendus) võimaldab täita ainult üht konkreetset ülesannet, siis infrastruktuuri teenus (</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">IaaS</span><span xml:lang="et-EE" lang="et-EE">, näiteks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Amazon EC2</span><span xml:lang="et-EE" lang="et-EE"> [3] virtuaalserverid) annab küll laia võimaluste hulga, kuid praktiliselt mitte mingeid hõlbustusvahendeid nende võimaluste täitmiseks.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><img style="width:146.2mm" alt="" src="3_files/0.png" /><span xml:lang="et-EE" lang="et-EE"><br /> Joonis 1. Pilveteenuste erinevate kihtide poolt pakutavad võimalused</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> on oma olemuselt platvormteenus (</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">PaaS</span><span xml:lang="et-EE" lang="et-EE">), mis paigutub tarkvara- ja infrastruktuuri teenuse vahele. Rakenduste loojad on platvormteenuse puhul surutud küll kindlatesse raamidesse (</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> pakub programmeerimiskeelteks vaid </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Pythonit</span><span xml:lang="et-EE" lang="et-EE"> või </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Javat</span><span xml:lang="et-EE" lang="et-EE">, andmebaasiliidestused on piiratud jne), kuid erinevalt tarkvarateenuse tasemest ei ole rakenduste eesmärgid eeldefineeritud ning seega on võimalik piirangutest hoolimata hõlmata suhteliselt laia skaalat. Infrastruktuuri teenusest erinevalt ei pea platvormteenuse rakenduste arendajad aga muretsema madala taseme komponentide ega süsteemi hooldamise pärast &#150; näiteks puudub vajadus jälgida operatsioonisüsteemi turvauuenduste ajakohasust või paigaldatud tarkvarakomponentide ühilduvust.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Pilveteenuste hinnastamine toimub põhimõttel „maksad vaid selle eest, mida kasutad&ldquo; &#150; sama kehtib ka </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i puhul. Kui teenuse koormus ja ressursikasutus tõuseb, siis maksad vastavalt rohkem, kui aga langeb, siis vähem. Kusjuures kuni esimeste limiitide ületamiseni (limiidid on peamiselt päevapõhised) on </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i teenus sootuks tasuta. Kuna </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i limiidid on välja töötatud USA turgu järgides, siis on Eesti veebilehtede puhul, kus koormused on rahvastiku arvust tulenevalt niigi väikesed, isegi tasuta limiite keeruline ületada. Nii võib Eesti oludes tinglikult pidada </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">'it tasuta teenuseks. </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> pakub seejuures alguses võimalust kasutada just tasuta paketti. Selle peamiseks erinevuseks tasulisest on fakt, et limiitide ületamise korral jääb rakenduse teenindamine kuni limiitide vabanemiseni (st uue päeva alguseni) seisma, samas kui tasulise versiooni puhul esitatakse tasuta limiite ületanud ressursside eest arve.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i laadsed teenused sobivad eriti hästi automaatse skaleeruvuse tõttu sellistele rakendustele, kus suuri ressursse vajatakse harva, üldjuhul aga on rakenduse kasutamine väike kui mitte olematu. Nii pole tarvis nende harvade tavalisest suurema koormusega hetkede tarbeks ennetavalt osta ja hallata kallimat riistvara ja võrguühendust, mis enamiku ajast istuks lihtsalt jõude, kuna tavaolukorras serveril vastav koormus puudub.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Heaks näiteks skaleeruva ressursikasutuse vajalikkuse kohta on </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Digg</span><span xml:lang="et-EE" lang="et-EE"> ja </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Slashdot</span><span xml:lang="et-EE" lang="et-EE"> efektid [4]. See tähendab, et veebilehe viide satub mõne populaarse linkija esilehele, olgu selleks siis </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Digg.com</span><span xml:lang="et-EE" lang="et-EE">, </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Slashdot.com</span><span xml:lang="et-EE" lang="et-EE"> vms &#150; tagajärjeks on see, et piiratud ajaperioodi jooksul (mõned tunnid kuni mõned päevad, niikaua kui link püsib taolise linkija esilehel) külastab teenust suur hulk kasutajaid. Eesti kontekstis võib ekstreemseks näiteks tuua valimised, mille puhul valimispäeva õhtul külastab Vabariigi Valimiskomisjoni veebilehte suur mass tulemusi ootavaid inimesi, samas kui ülejäänud osa aastast on lehe külastatavus praktiliselt nullilähedane. </span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Valimiste korraldajaid aitab asjaolu, et need on ajaliselt planeeritud, ning seega on külastatavuse järsk kasv eelnevalt prognoositav, aga lingi sattumist populaarsele veebilehele on palju keerulisem ette näha. Klassikalise veebimajutuse korral lakkaks server suure tõenäosusega sellise ootamatu ülekoormuse all töötamast, kuid skaleeruva teenuse puhul ei tekiks rakenduse töös katkestusi &#150; kuu lõpus laekuks lihtsalt harjumuspärasest veidi suurem arve.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i tasuta paketi peamised limiidid on välja toodud allolevas tabelis (Tabel 1). Juhul kui need limiidid ületatakse, peatub rakenduse teenindamine </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google</span><span xml:lang="et-EE" lang="et-EE">&#146;i serverite poolt ning kasutajad näevad lehe avades </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google</span><span xml:lang="et-EE" lang="et-EE">&#146;i logoga veateadet. </span></p> 
   <table cellpadding="0" border="1" style="width:100%;border:0.80pt;border-collapse:collapse;empty-cells:show;table-layout:fixed;border-style:solid"> 
    <colgroup> 
     <col /> 
     <col /> 
     <col /> 
    </colgroup> 
    <tbody style="border:inherit"> 
     <tr style="border:inherit"> 
      <td style="padding: 0.00pt 2.16pt;background-color:#808080;color:#000000;border:1.00pt solid #808080;border-top-width:0.00pt;border-bottom-width:0.00pt;border-top-color:#000000;border-bottom-color:#000000"> 
       <p class="table_heading table_contents" awml:style="Table Heading" dir="ltr" style="text-align:center"><span style="color:#ffffff" xml:lang="et-EE" lang="et-EE">Ressurss </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#808080;color:#000000;border:0.00pt solid #000000"> 
       <p class="table_heading table_contents" awml:style="Table Heading" dir="ltr" style="text-align:center"><span style="color:#ffffff" xml:lang="et-EE" lang="et-EE">Päevane limiit </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#808080;color:#000000;border:1.00pt solid #808080;border-top-width:0.00pt;border-bottom-width:0.00pt;border-top-color:#000000;border-bottom-color:#000000"> 
       <p class="table_heading table_contents" awml:style="Table Heading" dir="ltr" style="text-align:center"><span style="color:#ffffff" xml:lang="et-EE" lang="et-EE">Maksimaalne sagedus </span></p> 
      </td> 
     </tr> 
     <tr style="border:inherit"> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:1.00pt solid #808080"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">Pöördumisi </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:0.00pt solid #000000;border-top-width:1.00pt;border-bottom-width:1.00pt;border-top-color:#808080;border-bottom-color:#808080"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">1 300 000 päringut </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:1.00pt solid #808080"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">7 400 päringut minutis </span></p> 
      </td> 
     </tr> 
     <tr style="border:inherit"> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:1.00pt solid #808080;border-top-width:0.00pt;border-bottom-width:0.00pt;border-top-color:#000000;border-bottom-color:#000000"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">Väljuv andmemaht </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:0.00pt solid #000000"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">1 GB </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:1.00pt solid #808080;border-top-width:0.00pt;border-bottom-width:0.00pt;border-top-color:#000000;border-bottom-color:#000000"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">56 MB minutis </span></p> 
      </td> 
     </tr> 
     <tr style="border:inherit"> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:1.00pt solid #808080"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">Sisenev andmemaht </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:0.00pt solid #000000;border-top-width:1.00pt;border-bottom-width:1.00pt;border-top-color:#808080;border-bottom-color:#808080"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">1 GB </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:1.00pt solid #808080"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">56 MB minutis </span></p> 
      </td> 
     </tr> 
     <tr style="border:inherit"> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:1.00pt solid #808080;border-top-width:0.00pt;border-bottom-width:0.00pt;border-top-color:#000000;border-bottom-color:#000000"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">Protsessorikasutus </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:0.00pt solid #000000"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">6.5 CPU tundi </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:1.00pt solid #808080;border-top-width:0.00pt;border-bottom-width:0.00pt;border-top-color:#000000;border-bottom-color:#000000"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">15 CPU minutit minutis </span></p> 
      </td> 
     </tr> 
     <tr style="border:inherit"> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:1.00pt solid #808080"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">Kasutatav kettapind </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:1.00pt solid #808080;border-left-width:0.00pt;border-left-color:#000000" colspan="2"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">1 GB </span></p> 
      </td> 
     </tr> 
     <tr style="border:inherit"> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:1.00pt solid #808080;border-top-width:0.00pt;border-bottom-width:0.00pt;border-top-color:#000000;border-bottom-color:#000000"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">E-posti saatmine </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:0.00pt solid #000000"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">2000 väljuvat kirja </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:1.00pt solid #808080;border-top-width:0.00pt;border-bottom-width:0.00pt;border-top-color:#000000;border-bottom-color:#000000"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">8 kirja minutis </span></p> 
      </td> 
     </tr> 
     <tr style="border:inherit"> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:1.00pt solid #808080"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Memcache</span><span xml:lang="et-EE" lang="et-EE"> päringuid </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:0.00pt solid #000000;border-top-width:1.00pt;border-bottom-width:1.00pt;border-top-color:#808080;border-bottom-color:#808080"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">8 600 000 </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:1.00pt solid #808080"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:justify"><span xml:lang="et-EE" lang="et-EE">48 000 päringut minutis </span></p> 
      </td> 
     </tr> 
    </tbody> 
   </table> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Tabel 1. Tasuta kasutamise limiidid </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i rakenduste jaoks</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Tasulise paketi korral jäävad tasuta limiidid samaks ning maksta tuleb vaid neid limiite ületavate ressursside eest. Muutuvad ka maksimaalsed sagedused, mis tõusevad tasulise paketi puhul märgatavalt. Näiteks kui väljuv andmemaht on tasuta paketis maksimaalse sagedusega 56 MB/minutis, siis tasulises paketis 10 GB/minutis; e-kirjade saatmise limiit tõuseb tasuta paketi 8 kirjalt minutis 5100 kirjani minutis jne. </span></p> 
   <h2 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="platvorm" id="platvorm"><span xml:lang="et-EE" lang="et-EE">3. Platvorm</span></a></h2> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> erineb teistest pilveteenuste pakkujatest (näiteks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Amazon AWS</span><span xml:lang="et-EE" lang="et-EE"> [5]) selle poolest, et pakub mitte üldist laadi, vaid kindlaksmääratud platvormil rakenduste majutust. Kogu arveldamine käib rakenduste põhjal &#150; igal rakendusel on kasutada teatud arv ressursse ning maksta tuleb konkreetse rakenduse ressursikasutusele vastavalt. &nbsp;</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i platvormil ei saa hoida ega käivitada suvalisi faile. Tuleb kinni pidada ja arvestada mitmete reeglite ja piirangutega. </span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Esiteks programmeerimiskeele valik &#150; valida on vaid kahe keskkonna, </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Java</span><span xml:lang="et-EE" lang="et-EE"> ja </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Pythoni </span><span xml:lang="et-EE" lang="et-EE">vahel. Kolmandate keelte (näiteks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">PHP</span><span xml:lang="et-EE" lang="et-EE"> või </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Ruby</span><span xml:lang="et-EE" lang="et-EE">) kasutamine on reeglina võimalik vaid </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Java</span><span xml:lang="et-EE" lang="et-EE"> abil, kui vastava keele jaoks on olemas </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Java </span><span xml:lang="et-EE" lang="et-EE">interpretaator. See tähendab, et võetakse näiteks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">PHP</span><span xml:lang="et-EE" lang="et-EE">-keeles kirjutatud skript, tõlgitakse see </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Javale</span><span xml:lang="et-EE" lang="et-EE"> loetavaks ning </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Java</span><span xml:lang="et-EE" lang="et-EE"> käivitab selle </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i platvormil tavalise </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Java</span><span xml:lang="et-EE" lang="et-EE">-põhise rakendusena. Sellist funktsionaalsust </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">PHP</span><span xml:lang="et-EE" lang="et-EE">-programmide käivitamiseks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i platvormil võimaldab </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Querqus</span><span xml:lang="et-EE" lang="et-EE"> [6]. Käesolevas artiklis on käsitletud peamiselt </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Pythoniga</span><span xml:lang="et-EE" lang="et-EE"> seonduv, kuna </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Python</span><span xml:lang="et-EE" lang="et-EE"> oli esimene keel, mida </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> toetas.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Teiseks oluliseks erinevuseks võrreldes muude teenusepakkujatega on andmebaasivalik. </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> ei toeta </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">MySQL</span><span xml:lang="et-EE" lang="et-EE">, </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">MSSQL</span><span xml:lang="et-EE" lang="et-EE"> ega muid relatsioonilisi andmebaase, vaid ainult </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google</span><span xml:lang="et-EE" lang="et-EE">&#146;i poolt välja töötatud mitte-relatsioonilist andmebaasi </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">BigTable</span><span xml:lang="et-EE" lang="et-EE">. </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">BigTable</span><span xml:lang="et-EE" lang="et-EE">&#146;i üheks piiravamaks omaduseks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i platvormil on kuni 1 MB suurused andmebaasi kirjed, kuna </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;is puudub rakendustel failisüsteemi kirjutamise õigus ning kõik programmi töö jooksul tekkinud failid tuleb salvestada failisüsteemi asemel andmebaasi. Õnneks on alternatiivina võimalik kasutada suuremate failide salvestamiseks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">BlobStore</span><span xml:lang="et-EE" lang="et-EE">&#146;i failihoidlat, kuid see on mõnevõrra keerukam.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Kolmandaks teenuse suureks piiranguks on juba eelpool nimetatud 1 MB piirang: andmebaasi iga kirje peab jääma 1 MB raamidesse, teistest serveritest saab alla laadida kuni 1 MB suuruseid faile, välja saadetava e-kirja maksimaalne suurus koos manustega saab olla 1 MB jne. &nbsp;</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Neljandaks piiranguks on ligipääs serverile &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> ei võimalda serveris asuvatele failidele harjumuspärast ligipääsu mõne failiedastusprotokolli abil nagu näiteks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">FTP</span><span xml:lang="et-EE" lang="et-EE">, vaid kasutada tuleb arenduspaketi vahendeid. Failide laadimine on ühesuunaline &#150; ainult üles. Kui staatilisi faile saab veebi kaudu tavakorras siiski ka alla laadida, siis programmifaile serverist enam tagasi laadida ei saa &#150; kui rakenduse lähtefaile enam kohalikus arvutis alles pole, siis neid taastada ei õnnestu. Sellisel juhul pole võimalik serveris edaspidiseid muudatusi teha, kuna failide üleslaadimisel uuendatakse korraga tervet rakendust, mitte üksikut faili. Taolise probleemi vältimiseks tasub kindlasti kaaluda täiendavalt mõne versioonihalduskeskkonna kasutamist, näiteks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Subversion</span><span xml:lang="et-EE" lang="et-EE">, </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Git</span><span xml:lang="et-EE" lang="et-EE"> vms, mis lähtefailid turvaliselt ära varundaks.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Viimase piiranguga kaasneb ometi ka positiivne omadus &#150; kuna kõiki faile tuleb mingil moel varundada ning arendajate vahel sünkroniseerida, ilma et vahepeal saaks failidega otse serveris toimetada, on kõik projektis osalejad sunnitud korrektselt versioonihaldustarkvara kasutama ning kõik muudatused selles registreerima. Suuremates ettevõtetes pole see tõenäoliselt juba praegugi probleemiks, küll aga väiksemates, kus iga töötaja toimetab omapead ning tegevustest puudub reaalne ülevaade. Rääkimata sellest, et kui serveris midagi juhtuma peaks, siis rakenduse taastamine on ülimalt keeruline, kuna failid on tõenäoliselt kõik versioonimata ja varundamata.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Viiendaks oluliseks piirajaks on programmi tööaeg &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i poolt on see piiratud 30 sekundiga ning kui programm selle aja täitudes pole veel tööd lõpetanud, ilmub veateade. Andmebaasi puhul võib see aeg olla isegi tunduvalt lühem &#150; viga võib ilmuda näiteks siis, kui andmebaas ei vasta vaid mõne sekundi jooksul.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Probleeme on ka </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">SSL</span><span xml:lang="et-EE" lang="et-EE">-sertifikaatidega. </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> jagab kõikide rakenduste ja kasutatavate IP-aadresside vahel ühte ja sama </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">*.appspot.com</span><span xml:lang="et-EE" lang="et-EE"> suhtes kehtivat </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">wildcard</span><span xml:lang="et-EE" lang="et-EE">&nbsp;</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">SSL-</span><span xml:lang="et-EE" lang="et-EE">sertifikaati. </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">HTTPS</span><span xml:lang="et-EE" lang="et-EE"> protokoll aga ei võimalda ühe IP/pordi kombinatsiooni kohta rohkem kui ühte sertifikaati kasutada [7]. </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i tööplaanis [8] on antud küsimus kirjas, seega tulevikus antud probleem tõenäoliselt lahendatakse.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Seatud piirangutest on võimalik mööda pääseda oma </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i ülesseadmisega. Kalifornia Santa Barbara ülikoolis on loodud </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">AppScale</span><span xml:lang="et-EE" lang="et-EE">&#146;i [9] nimeline vabavaraline platvorm </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i rakenduste paigaldamiseks ja majutamiseks kasutaja enda (virtuaalsetest) serveritest moodustatud klastrites.</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE"> AppScale</span><span xml:lang="et-EE" lang="et-EE"> toetab näiteks ka </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Amazon EC2</span><span xml:lang="et-EE" lang="et-EE"> virtuaalserveriplatvormi, võimaldades sellega </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i rakendusi jooksutada ka </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Amazoni</span><span xml:lang="et-EE" lang="et-EE"> infrastruktuuri teenusel. </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">AppScale</span><span xml:lang="et-EE" lang="et-EE"> erineb originaalsest </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i teenusest muuhulgas valitud andmebaasi poolest &#150; kuigi andmebaasi liides on rakendustele sama nagu </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i puhul, pole kasutatud </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">BigTable</span><span xml:lang="et-EE" lang="et-EE">&#146;i andmebaasi, vaid mõnd vabavaralist alternatiivi (</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Voldemort, MemcacheDB, MySQL</span><span xml:lang="et-EE" lang="et-EE"> vms).</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Boonusena sisaldab </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> tasuta sisuedastusvõrgu (</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">CDN</span><span xml:lang="et-EE" lang="et-EE">) teenust. Kõik rakendused kopeeritakse täies mahus erinevates asukohtades olevatesse serveritesse, kusjuures mida aktiivsemalt konkreetset rakendust kasutatakse, seda rohkem antud rakendust pilves ka levitatakse. Nii suunatakse kasutajate päringud alati füüsiliselt lähimal asuva koopia juurde, viies sellega võrgu kiirusest sõltuvad reageerimisajad miinimumini. </span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Kui praegu võib veel Eesti asukohast tulenevalt kiirustega kohati probleeme esineda, siis </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google</span><span xml:lang="et-EE" lang="et-EE">&#146;i Soomes paikneva Hamina [10] andmekeskuse käivitudes peaksid </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i rakenduste ühenduskiirused muutuma Eestis majutatud lahendustega praktiliselt võrdseteks. Sama kiirelt saab </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">&nbsp;</span><span xml:lang="et-EE" lang="et-EE">rakendust kasutada ka näiteks Aasias või Ameerika &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i puhul pole vahet, millises maailma otsas kasutaja asub.</span></p> 
   <h2 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="kasutamine" id="kasutamine"><span xml:lang="et-EE" lang="et-EE">4. Kasutamine</span></a></h2> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i kasutamiseks on vaja paigaldada arvutisse vastav tarkvara arenduspakett (</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">SDK</span><span xml:lang="et-EE" lang="et-EE">), mille saab alla laadida </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i kodulehelt [11]. Toetatud on kõik levinumad platvormid &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Windows, Mac OSX</span><span xml:lang="et-EE" lang="et-EE"> ja </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Linux</span><span xml:lang="et-EE" lang="et-EE">. </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Windowsi</span><span xml:lang="et-EE" lang="et-EE"> ja </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Maci</span><span xml:lang="et-EE" lang="et-EE"> versioonide puhul on lisatud graafiline liides, kuid </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Linuxi</span><span xml:lang="et-EE" lang="et-EE"> puhul peab käsureal toimetades hakkama saama.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Arenduspaketti on tarvis peamiselt kahel põhjusel. Esiteks sisaldab see kohaliku veebiserveri näol </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i emulaatorit, mis võimaldab arendusarvutis midagi üles laadimata proovida, kas programm töötab või mitte. Teiseks toimub failide üleslaadimine </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google</span><span xml:lang="et-EE" lang="et-EE">&#146;i serveritesse ainult arenduskeskkonna poolt võimaldatud liidese abil.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Harjumuspäraseid </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">FTP, SSH</span><span xml:lang="et-EE" lang="et-EE"> vms failiedastusvahendeid </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i puhul seega kasutada ei saa ning kogu vajalik funktsionaalsus on realiseeritud </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">SDK</span><span xml:lang="et-EE" lang="et-EE"> enda sees. </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">SDK</span><span xml:lang="et-EE" lang="et-EE"> poolt kontrollitav üleslaadimine on samas väga mugav &#150; piisab vaid vajutusest nupul </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Deploy</span><span xml:lang="et-EE" lang="et-EE"> või </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Linuxi </span><span xml:lang="et-EE" lang="et-EE">puhul (kuna graafiline keskkond puudub) üleslaadimise käsu sisestamisest. Uue versiooni paigaldamine </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">&nbsp;</span><span xml:lang="et-EE" lang="et-EE">serverisse võtab reeglina alla minuti (sõltub failide koguarvust projektis ning üleslaetavate failide suurusest), kohalikus testserveris ei kulu aga sedagi &#150; rakendus hakkab tööle kohe programmikoodi salvestamise järel.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">SDK</span><span xml:lang="et-EE" lang="et-EE"> laeb üles ainult failid, mis on uued või mida on muudetud. Samuti toimub taustal paigalduste versioonimine &#150; juhul kui üleslaadimine ebaõnnestus või programm osutus vigaseks, saab üleslaadimist „tagasi pöörata,&ldquo; misjärel taastab server programmi eelmise oleku. Kuna olemasolevaid faile ei kirjutata kunagi üle, vaid ainult lisatakse, ei saa tekkida probleemi, kus programm on serveris lootusetult rikkis &#150; alati saab naasta mõne eelneva töökorras versiooni juurde.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Arenduspaketi graafilise liidese abil saab luua ka uusi rakendusi, kasutades käsku </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">File</span><span style="font-size:10pt;font-family:'Courier New'" xml:lang="et-EE" lang="et-EE">→</span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">New Application…</span><span xml:lang="et-EE" lang="et-EE">. Avanenud dialoogiaknas tuleb määrata rakenduse unikaalne identifikaator ning projektifailide asukoha kataloog. Identifikaator tohib sisaldada vaid ladina tähti, numbreid ja sidekriipsu. Kuigi programm ei anna veateadet, kui identifikaator sisaldab näiteks tühikuid, siis hiljem vigase identifikaatoriga rakendust käivitada siiski ei saa.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i platvormile loodavad rakendused koosnevad reeglina minimaalselt kolmest määratud failist: </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">app.yaml</span><span xml:lang="et-EE" lang="et-EE"> (määrab ära rakenduse konfiguratsiooni), </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">index.yaml</span><span xml:lang="et-EE" lang="et-EE"> (seab andmebaasi indeksid) ning </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">main.py</span><span xml:lang="et-EE" lang="et-EE"> (selles asub rakenduse programmikood).</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Rakenduse paigaldamiseks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i serverisse tuleb rakendus kõigepealt registreerida </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i teenuste lehel [12]. Pärast registreerimist eraldatakse rakendusele vajalik serveripind ning domeeninimi kujul </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">identifikaator.appspot.com</span><span xml:lang="et-EE" lang="et-EE">. Domeeninime määramine selgitabki identifikaatori puhul lubatud sümbolite piiratuse &#150; kõiki sümboleid (näiteks tühikut) ei ole nimelt võimalik domeeninimedes kasutada. Enne rakenduse registreerimist tuleb aktiveerida ka </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i kasutamise konto, mida saab teha lihtsalt lehte külastades. Vajalik on mobiiltelefoni olemasolu, kuna kasutaja tuvastamine käib SMS-i teel.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Kui rakendus on registreeritud ja kohalikus testserveris on selle töötamine kontrollitud, saab rakenduse paigaldada </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i serverisse arenduspaketi käsuga </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Deploy</span><span xml:lang="et-EE" lang="et-EE">. Peale paigaldamisprotsessi lõppu saab rakendust vahetult kasutama hakata rakenduse veebiaadressi kaudu.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Kui on soov kasutada </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">identifikaator.appspot.com</span><span xml:lang="et-EE" lang="et-EE"> domeeninime asemel midagi muud, näiteks </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">www.minudomeen.ee</span><span xml:lang="et-EE" lang="et-EE">, tuleb antud domeeni suhtes luua </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google Apps</span><span xml:lang="et-EE" lang="et-EE">&#146;i [13] konto. </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google Apps</span><span xml:lang="et-EE" lang="et-EE">&#146;i peamiseks kasutusalaks on oma domeeni e-posti liikluse suunamine </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google</span><span xml:lang="et-EE" lang="et-EE">&#146;i serveritesse, kuid see võimaldab lisaks domeeni sidumist </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i rakendusega. </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google Apps Pro</span><span xml:lang="et-EE" lang="et-EE"> versioon on tasuline, kuid </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google </span><span xml:lang="et-EE" lang="et-EE">pakub ka tasuta </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Standard</span><span xml:lang="et-EE" lang="et-EE"> versiooni.</span></p> 
   <h2 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="programmi_struktuur" id="programmi_struktuur"><span xml:lang="et-EE" lang="et-EE">5. Programmi struktuur</span></a></h2> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Rakenduse töö jaoks tuleks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Pythoni</span><span xml:lang="et-EE" lang="et-EE"> programmi laadida erinevad abistavad teegid, milleks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i puhul oleksid kindlasti vajalikud teegid veebipäringute teenindamiseks. Veebipäringuid oskab hallata </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i poolt vaikimisi pakutav </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">WebAPP</span><span xml:lang="et-EE" lang="et-EE"> raamistik. Võimalik on kasutada ka muid raamistikke, kuid </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">WebAPP</span><span xml:lang="et-EE" lang="et-EE"> on kõige lihtsam viis rakendust kiirelt tööle saada.</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">import wsgiref.handlers<br />from google.appengine.ext import webapp</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Antud teekide poolt pakutavad meetodid oskavad vastu võtta </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">app.yaml</span><span xml:lang="et-EE" lang="et-EE"> konfiguratsiooni poolt suunatud veebipäringuid (näiteks kui keegi avab aadressi </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">www.server.ee/info</span><span xml:lang="et-EE" lang="et-EE">, siis </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">/info</span><span xml:lang="et-EE" lang="et-EE"> suunatakse programmile kui sisenev päring) ning leida nendest üles erinevad päringu andmed (</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">GET-</span><span xml:lang="et-EE" lang="et-EE"> ja </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">POST</span><span xml:lang="et-EE" lang="et-EE">-muutujad, küpsised jne).</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Konkreetsete päringute haldamiseks </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">WebAPP</span><span xml:lang="et-EE" lang="et-EE"> raamistikus tuleb luua igale päringutingimusele </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">webapp.RequestHandler</span><span xml:lang="et-EE" lang="et-EE"> tüüpi päringuklass. Sellise klassi meetod </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">get</span><span xml:lang="et-EE" lang="et-EE"> oskab vastata </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">GET</span><span xml:lang="et-EE" lang="et-EE">-päringutele ning </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">post</span><span xml:lang="et-EE" lang="et-EE"> vastavalt </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">POST</span><span xml:lang="et-EE" lang="et-EE">-päringutele.</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">class InfoHandler(webapp.RequestHandler):<br /> &nbsp;def get(self):<br /> &nbsp;&nbsp;&nbsp;self.response.out.write("See on infotekst!")</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Päringuklassid saab päringutingimustega siduda </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">webapp.WSGIApplication</span><span xml:lang="et-EE" lang="et-EE"> meetodi abil &#150; selle parameetriks tuleb anda massiiv, mis määrab ühesed seosed päringute ja päringuklasside vahel. Näites seotakse päringuaadress </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">/info</span><span xml:lang="et-EE" lang="et-EE"> haldajaga </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">InfoHandler</span><span xml:lang="et-EE" lang="et-EE">.</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">def main():<br /> &nbsp;application = webapp.WSGIApplication([('/info', InfoHandler)])<br /> &nbsp;wsgiref.handlers.CGIHandler().run(application)<br />if __name__ == '__main__':<br /> &nbsp;main()</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">webapp.RequestHandler</span><span xml:lang="et-EE" lang="et-EE"> tüüpi päringuklassides asuvad kõik sisenevate päringutega seotud andmed objektis </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">self.request</span><span xml:lang="et-EE" lang="et-EE"> ning väljuvate andmetega seotud andmed objektis </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">self.response</span><span xml:lang="et-EE" lang="et-EE">. Näiteks kui on vaja midagi väljastada, saab seda teha objekti </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">self.response</span><span xml:lang="et-EE" lang="et-EE"> omadusega </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">out</span><span xml:lang="et-EE" lang="et-EE">:</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">self.response.out.write("see läheb ekraanile")</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Kui on vaja lugeda </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">GET-</span><span xml:lang="et-EE" lang="et-EE"> või </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">POST-</span><span xml:lang="et-EE" lang="et-EE">päringuga edastatud parameetri väärtust, saab seda teha objekti </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">self.request</span><span xml:lang="et-EE" lang="et-EE"> meetodiga </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">get</span><span xml:lang="et-EE" lang="et-EE">:</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">nimi = self.request.get("nimi")</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Lisaks </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">WebAPP</span><span xml:lang="et-EE" lang="et-EE"> raamistikule võimaldab </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> ilma täiendavaid faile üles laadimata kasutada </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Django</span><span xml:lang="et-EE" lang="et-EE"> [14] versiooni 0.96. </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Django</span><span xml:lang="et-EE" lang="et-EE"> on mahukas raamistik veebirakenduste loomiseks, kuid </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i platvormil asuvate rakenduste jaoks piisab tihtipeale ka vaid mõnest üksikust </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Django</span><span xml:lang="et-EE" lang="et-EE"> pakutavast osast. Näiteks saab kasutada </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Django</span><span xml:lang="et-EE" lang="et-EE"> väga head lehemallisüsteemi [15] või samas paketis sisalduvat </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">JSON</span><span xml:lang="et-EE" lang="et-EE"> teeki.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Üldiselt saab </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i platvormil kasutada kõiki </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Pythoni</span><span xml:lang="et-EE" lang="et-EE"> versiooni 2.5 võimalusi &#150; lisaks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i poolt pakutud teekidele saab kasutada ka teisi, kui need programmi koodi hulgas üles laadida. Arvestada tuleb vaid piirangutega, et kasutatavad teegid peavad olema puhtas </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Pythonis</span><span xml:lang="et-EE" lang="et-EE"> (eelkompileeritud C-keeles kirjutatud teegid </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i platvormil ei tööta) ning järgima erinevaid keskkonna poolt ette kirjutatud reegleid (näiteks keeldu avada ühendusi teistesse serveritesse muudmoodi kui </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">URLFetch</span><span xml:lang="et-EE" lang="et-EE"> teenuse abil).</span></p> 
   <h2 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="konfiguratsioonifailid" id="konfiguratsioonifailid"><span xml:lang="et-EE" lang="et-EE">6. Konfiguratsioonifailid</span></a></h2> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i rakenduste konfiguratsioonifailides (rakenduse andmed, andmebaasi indeksite deklaratsioonid, perioodiliste tööde kirjeldused jms) on kasutusel </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">YAML</span><span xml:lang="et-EE" lang="et-EE"> formaat [16]. Tegu on inimloetava formaadiga, mida saab toimetada tavalise tekstiredaktoriga, võimaldades mugavalt määrata erinevaid seadeid ühes kindlas asukohas. Kuna </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Pythoni</span><span xml:lang="et-EE" lang="et-EE"> skriptid saavad </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i rakendustes </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">yaml</span><span xml:lang="et-EE" lang="et-EE"> teegi ise sisse laadida (käsklus </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">import yaml</span><span xml:lang="et-EE" lang="et-EE">), saab sama formaati kasutada ka rakenduse spetsiifiliste seadete salvestamiseks.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Nimetus </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">YAML</span><span xml:lang="et-EE" lang="et-EE"> tähendab rekursiivset akronüümi sõnadest </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">YAML Ain't Markup Language</span><span xml:lang="et-EE" lang="et-EE">. Tegu on millegi </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">INI</span><span xml:lang="et-EE" lang="et-EE">-faili laadsega, kuid </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">YAML</span><span xml:lang="et-EE" lang="et-EE"> on erinevalt </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">INI</span><span xml:lang="et-EE" lang="et-EE">-failist tunduvalt laiemate võimalustega. Kui </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">INI</span><span xml:lang="et-EE" lang="et-EE">-fail on sisuliselt vaid „võti-väärtus&ldquo; paaride kogum, kus väärtuseks on number või tekst ning maksimaalseks liigendatuseks saab olla nende väärtuste sektsioonidesse jagamine, siis </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">YAML</span><span xml:lang="et-EE" lang="et-EE"> võimaldab teksti kujul esitada ka väga keerulisi andmestruktuure nagu näiteks programmi objektid.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Juhul kui on soov rakendusesiseselt </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">YAML</span><span xml:lang="et-EE" lang="et-EE"> faili kasutada, toimub failide lugemine mooduli </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">yaml</span><span xml:lang="et-EE" lang="et-EE"> abil, kus </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">YAML</span><span xml:lang="et-EE" lang="et-EE"> formaadis dokument teisendatakse </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Pythoni</span><span xml:lang="et-EE" lang="et-EE"> objektiks.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Konfiguratsioonifail </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">seaded.yaml</span><span xml:lang="et-EE" lang="et-EE">: </span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE"># See on kommentaar<br />Rakendus:<br /> &nbsp;pealkiri: Näidisrakendus<br /> &nbsp;sildid:<br /> &nbsp;- GAE<br /> &nbsp;- Python<br /> &nbsp;- YAML</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Programmikood andmete lugemiseks: </span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">import yaml<br />fp = &nbsp;open("seaded.yaml")<br />seaded = yaml.load(fp, Loader=yaml.Loader)<br />pealkiri = seaded["Rakendus"]["pealkiri"] # Näidisrakendus<br />sildid &nbsp;&nbsp;= seaded["Rakendus"]["sildid"] &nbsp;&nbsp;# ["GAE", "Python", "YAML"]</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Nagu näha, on </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">YAML</span><span xml:lang="et-EE" lang="et-EE"> formaadis lihtne edastada ka massiive, mida </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">INI</span><span xml:lang="et-EE" lang="et-EE"> failiformaadi puhul on teha suhteliselt raske, rääkimata keerulisematest andmestruktuuridest.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Kuigi </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> ise </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">INI-</span><span xml:lang="et-EE" lang="et-EE"> faile ei kasuta, on soovi korral siiski võimalik rakendusesiseselt neid kasutada. Selleks annab mugava võimaluse </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Pythoni</span><span xml:lang="et-EE" lang="et-EE"> moodul </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">ConfigParser</span><span xml:lang="et-EE" lang="et-EE">.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Konfiguratsioonifail </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">seaded.ini</span><span xml:lang="et-EE" lang="et-EE">: </span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">; See on kommentaar<br />[Rakendus]<br />pealkiri = Näidisrakendus</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Programmikood andmete lugemiseks: </span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">import ConfigParser<br />config = ConfigParser.RawConfigParser()<br />config.read('seaded.ini')<br />pealkiri = config.get('Rakendus', 'Pealkiri') # Näidisrakendus</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Kuna </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">YAML</span><span xml:lang="et-EE" lang="et-EE"> on samas tunduvalt võimekam kui </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">INI</span><span xml:lang="et-EE" lang="et-EE"> ning </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i poolt nõutav konfiguratsioon peab niikuinii asuma </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">YAML</span><span xml:lang="et-EE" lang="et-EE"> formaadis, on mõistlik eelistadagi vajadusel just seda.</span></p> 
   <h2 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="andmebaas" id="andmebaas"><span xml:lang="et-EE" lang="et-EE">7. Andmebaas</span></a></h2> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> ei kasuta mõnd tavakäibes olevat andmebaasi nagu näiteks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">MySQL</span><span xml:lang="et-EE" lang="et-EE">, </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">MSSQL </span><span xml:lang="et-EE" lang="et-EE">või </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Oracle</span><span xml:lang="et-EE" lang="et-EE">, vaid </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google</span><span xml:lang="et-EE" lang="et-EE">&#146;i enda poolt välja töötatud mitte-relatsioonilist andmebaasi </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">BigTable</span><span xml:lang="et-EE" lang="et-EE">. Andmete salvestamiseks pole alternatiivina võimalik kasutada isegi mitte tekstifaile (</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> on keelanud rakendustele kõik kettale kirjutamise õigused) ning seega tuleb kogu püsiv info (ajutise info jaoks saab kasutada ka näiteks </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">memcache</span><span xml:lang="et-EE" lang="et-EE"> teeki) teenuse poolt määratud andmebaasi salvestada.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i käsutuses on </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">BigTable</span><span xml:lang="et-EE" lang="et-EE"> andmebaasiga suhtlemiseks </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Datastore API</span><span xml:lang="et-EE" lang="et-EE">. Antud </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">API </span><span xml:lang="et-EE" lang="et-EE">võimaldab defineerida andmebaasitabeleid, lisada andmebaasi uusi kirjeid ja neid sealt lugeda. Andmete lugemine ongi </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">BigTable</span><span xml:lang="et-EE" lang="et-EE">&#146;i üheks suurimaks plussiks &#150; sõltumata andmebaasis olevate andmete hulgast, on lugemine alati kiire. Üks peamine kiiruse võimaldaja on tõenäoliselt andmebaasi lihtsakoelisus võrrelduna näiteks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">MySQL</span><span xml:lang="et-EE" lang="et-EE"> andmebaasiga: puudub võimalus kasutada </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">JOIN</span><span xml:lang="et-EE" lang="et-EE">-lauseid, </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">WHERE</span><span xml:lang="et-EE" lang="et-EE">-parameetrid on äärmiselt piiratud ulatusega, kõik päringud peavad olema eelnevalt indekseeritud (lihtsamad indeksid lisab </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> ise, kuid keerukamad tuleb defineerida failis </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">index.yaml</span><span xml:lang="et-EE" lang="et-EE">) jne.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Vaatamata sellele, et lugemine on kiire, on andmebaasi kirjutamine ometi väga aeglane. </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> on hajutatud teenus, mis tähendab, et rakenduse andmed asuvad korraga mitmes eri serveris &#150; seega igasuguste andmete kirjutamisel tuleb need erinevate sihtkohtade vahel tiražeerida. Lisaks nõuab oma aja indekseerimine. See aga teeb kirjutamise suhteliselt aeglaseks, muutudes suuremate andmemahtude korral tõsiseks probleemiks. Juhul kui on vaja korraga lisada palju kirjeid, on üsna tõenäoline, et enne lõpeb skriptile antud aeg, kui kirjed baasi saavad sisestatud. Kusjuures juttu ei ole mitte tuhandetest, vaid sadadest kirjetest. Kohati muudab andmebaasi kasutamise ebamugavaks asjaolu, et kirje maksimaalseks suuruseks saab olla 1 MB.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Poolikute andmete sisestamise vastu on mõningane abi andmebaasi transaktsioonidest &#150; juhul kui andmebaasiga suhtlemine on vormistatud transaktsioonina, siis ühe päringu ebaõnnestumisel võtab server tagasi kõik transaktsiooni käigus tehtud muudatused.</span></p> 
   <h3 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="kasutamine1" id="kasutamine1"><span xml:lang="et-EE" lang="et-EE">7.1. Kasutamine</span></a></h3> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Andmebaasiteenuse kasutamiseks tuleb laadida teek </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">db</span><span xml:lang="et-EE" lang="et-EE">.</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">from google.appengine.ext import db</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Järgmisena tuleks defineerida andmebaasitabelite mudelid. Seda saab teha vastavate klasside loomise abil, kus klassi omadustest saavad tabeli väljad. Kui </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">PHP</span><span xml:lang="et-EE" lang="et-EE"> ja </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">MySQL</span><span xml:lang="et-EE" lang="et-EE"> puhul ollakse harjunud selle jaoks kasutama mõnd tööriista nagu </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">phpMyAdmin</span><span xml:lang="et-EE" lang="et-EE">, siis </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i puhul pole vaja nii sügavuti minna &#150; piisab vaid klassi defineerimisest ning kogu „raske töö&ldquo; teostab andmebaasiteenus.</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">class Teade(db.Model):<br /> &nbsp;saatja = db.StringProperty()<br /> &nbsp;sisu = db.TextProperty()<br /> &nbsp;aeg = db.DateTimeProperty(auto_now_add = True)</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Selliselt luuakse </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">db.Model</span><span xml:lang="et-EE" lang="et-EE"> klassist pärinev andmebaasitabel nimega </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">Teade</span><span xml:lang="et-EE" lang="et-EE">, millel on kolm välja &#150; stringiväli </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">saatja</span><span xml:lang="et-EE" lang="et-EE">, tekstiväli </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">sisu</span><span xml:lang="et-EE" lang="et-EE"> ja ajaväli </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">aeg</span><span xml:lang="et-EE" lang="et-EE">. Parameeter </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">auto_now_add</span><span xml:lang="et-EE" lang="et-EE">, mis asub väljas </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">aeg</span><span xml:lang="et-EE" lang="et-EE">, tähendab, et uue kirje lisamisel seatakse selle välja väärtuseks automaatselt hetke aeg. Mudeli alusel loodud andmebaasiobjekt sisaldab lisaks defineeritud omadustele veel meetodeid </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">put</span><span xml:lang="et-EE" lang="et-EE"> ja </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">delete</span><span xml:lang="et-EE" lang="et-EE">, mis võimaldavad objektiga seotud andmebaasikirjet kas lisada, muuta või kustutada.</span></p> 
   <h3 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="andmete_lisamine" id="andmete_lisamine"><span xml:lang="et-EE" lang="et-EE">7.2. Andmete lisamine</span></a></h3> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Uute kirjete lisamine andmebaasi on mugav andmebaasielemendi objekti kujul. Selleks tuleb luua tabeli klassi tüüpi objekt (näites </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">Teade</span><span xml:lang="et-EE" lang="et-EE">) ning määrata selle omaduste väärtused. Pärast seda on võimalik kirje andmebaasi salvestada.</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">teade = Teade()<br />teade.saatja = "Peeter Meeter"<br />teade.sisu = "See on teade"<br />db.put(teade)</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Sellise tegevuse tulemusena lisatakse andmebaasi kirje: </span></p> 
   <table cellpadding="0" border="1" style="width:100%;border:0.80pt;border-collapse:collapse;empty-cells:show;table-layout:fixed;border-style:solid"> 
    <colgroup> 
     <col /> 
     <col /> 
     <col /> 
     <col /> 
     <col /> 
     <col /> 
    </colgroup> 
    <tbody style="border:inherit"> 
     <tr style="border:inherit"> 
      <td style="padding: 0.00pt 2.16pt;background-color:#808080;color:#000000;border:1.00pt solid #808080;border-top-width:0.00pt;border-bottom-width:0.00pt;border-top-color:#000000;border-bottom-color:#000000"> 
       <p class="table_heading table_contents" awml:style="Table Heading" dir="ltr" style="text-align:center"><span style="color:#ffffff" xml:lang="et-EE" lang="et-EE">key </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#808080;color:#000000;border:0.00pt solid #000000"> 
       <p class="table_heading table_contents" awml:style="Table Heading" dir="ltr" style="text-align:center"><span style="color:#ffffff" xml:lang="et-EE" lang="et-EE">key_name </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#808080;color:#000000;border:1.00pt solid #808080;border-top-width:0.00pt;border-bottom-width:0.00pt;border-top-color:#000000;border-bottom-color:#000000"> 
       <p class="table_heading table_contents" awml:style="Table Heading" dir="ltr" style="text-align:center"><span style="color:#ffffff" xml:lang="et-EE" lang="et-EE">Id </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#808080;color:#000000;border:0.00pt solid #000000"> 
       <p class="table_heading table_contents" awml:style="Table Heading" dir="ltr" style="text-align:center"><span style="color:#ffffff" xml:lang="et-EE" lang="et-EE">saatja </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#808080;color:#000000;border:1.00pt solid #808080;border-top-width:0.00pt;border-bottom-width:0.00pt;border-top-color:#000000;border-bottom-color:#000000"> 
       <p class="table_heading table_contents" awml:style="Table Heading" dir="ltr" style="text-align:center"><span style="color:#ffffff" xml:lang="et-EE" lang="et-EE">sisu </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#808080;color:#000000;border:0.00pt solid #000000"> 
       <p class="table_heading table_contents" awml:style="Table Heading" dir="ltr" style="text-align:center"><span style="color:#ffffff" xml:lang="et-EE" lang="et-EE">aeg </span></p> 
      </td> 
     </tr> 
     <tr style="border:inherit"> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:1.00pt solid #808080"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:center"><span xml:lang="et-EE" lang="et-EE">… </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:0.00pt solid #000000;border-top-width:1.00pt;border-bottom-width:1.00pt;border-top-color:#808080;border-bottom-color:#808080"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:center"><span xml:lang="et-EE" lang="et-EE">… </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:1.00pt solid #808080"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:center"><span xml:lang="et-EE" lang="et-EE">… </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:0.00pt solid #000000;border-top-width:1.00pt;border-bottom-width:1.00pt;border-top-color:#808080;border-bottom-color:#808080"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:center"><span xml:lang="et-EE" lang="et-EE">Peeter Meeter </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:1.00pt solid #808080"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:center"><span xml:lang="et-EE" lang="et-EE">See on teade </span></p> 
      </td> 
      <td style="padding: 0.00pt 2.16pt;background-color:#ffffff;color:#000000;border:1.00pt solid #808080;border-left-width:0.00pt;border-left-color:#000000"> 
       <p class="table_contents" awml:style="Table Contents" dir="ltr" style="text-align:center"><span xml:lang="et-EE" lang="et-EE">23.02.2010 17:59:00 </span></p> 
      </td> 
     </tr> 
    </tbody> 
   </table> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Tabel 2. Sisestatud kirje andmebaasis</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Tabelist on näha, et kirjega on seotud mitte üks, vaid lausa kolm erinevat võtmeväärtust. </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i andmebaas võimaldabki kasutada kolme tüüpi võtmeid, mille alusel päringuid teha. Nendest kaks on seatud andmebaasi enda poolt ja ühte saab seada programm. </span></p> 
   <ul> 
    <li dir="ltr" style="text-align:justify;margin-bottom:10pt">&nbsp;<span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">key</span><span xml:lang="et-EE" lang="et-EE"> &#150; tekstiline võti. Seatud igale kirjele andmebaasi poolt automaatselt ning on unikaalseks võtmeks terve andmebaasi raames.</span></li> 
    <li dir="ltr" style="text-align:justify;margin-bottom:10pt">&nbsp;<span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">id</span><span xml:lang="et-EE" lang="et-EE"> &#150; numbriline võti, mis on seatud andmebaasi poolt ja on unikaalne konkreetse tabeli raames.</span></li> 
    <li dir="ltr" style="text-align:justify;margin-bottom:10pt">&nbsp;<span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">key_name</span><span xml:lang="et-EE" lang="et-EE"> &#150; tekstiline võtme nimi, mis on seatav programmi poolt ning on unikaalne tabeli raames. Juhul kui luuakse uus element, millel on sama </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">key_name</span><span xml:lang="et-EE" lang="et-EE"> väärtus nagu mõnel olemasoleval kirjel, siis olemasolev kirje kirjutatakse üle.</span>    </li> 
   </ul> 
   <h3 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="andmete_paerimine" id="andmete_paerimine"><span xml:lang="et-EE" lang="et-EE">7.3. Andmete </span></a><span xml:lang="et-EE" lang="et-EE">lugemine</span></h3> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Andmete lugemiseks saab kasutada </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">SQL</span><span xml:lang="et-EE" lang="et-EE"> laadseid </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">GQL</span><span xml:lang="et-EE" lang="et-EE"> [17] päringuid, võtme alusel kindla kirje laadimist või alternatiivina aktiivsete salvestusobjektide (ingl </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Active Records</span><span xml:lang="et-EE" lang="et-EE">) põhist filtreerimist. Kõikidel juhtudel on tulemuseks andmebaasi tabeli tüüpi andmebaasiobjektid, mida saab vahetult toimetada ning </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">put</span><span xml:lang="et-EE" lang="et-EE"> ja </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">delete</span><span xml:lang="et-EE" lang="et-EE"> meetodite abil ka andmebaasis uuendada.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">GQL</span><span xml:lang="et-EE" lang="et-EE"> päring:</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">query = db.GqlQuery("SELECT * FROM Teade WHERE saatja = :1 ORDER BY aeg DESC", "Peeter Meeter")<br />teated = query.fetch(100) // kuni 100 esimest elementi</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Aktiivse salvestusobjekti päring:</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">query = Teade.all()<br />query.filter('saatja =', 'Peeter Meeter')<br />query.order("-aeg")<br />teated = query.fetch(100) // kuni 100 esimest elementi</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Võtme järgi kindla kirje päring:</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">teade = Teade.get(key)</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Kuna näitena kasutatud </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">GQL</span><span xml:lang="et-EE" lang="et-EE"> ning aktiivse salvestusobjekti päringute puhul tuleb arvestada korraga enam kui ühe väljaga (oluline on nii </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">saatja</span><span xml:lang="et-EE" lang="et-EE"> kui </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">aeg</span><span xml:lang="et-EE" lang="et-EE">), peab </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">index.yaml</span><span xml:lang="et-EE" lang="et-EE"> faili lisama ka järgmise indeksi deklaratsiooni. Ilma vastava indeksita tekitab päring veateate.</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">- kind: Teade<br /> &nbsp;properties:<br /> &nbsp;- name: saatja<br /> &nbsp;- name: aeg<br /> &nbsp;&nbsp;&nbsp;direction: desc</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Vaikimisi toimub andmebaasist lugemine tugeva konsistentsuse põhimõttel &#150; rakendus pöördub kõikide andmebaasioperatsioonide sooritamiseks ühe primaarse andmebaasiserveri poole, tagades sellega alati andmete ühtsuse. Kui aga kasutatav server ei ole parasjagu kättesaadav, tähendab see automaatselt rakenduse töö peatumist. Alternatiivina on võimalik andmeid lugeda ka edaspidise konsistentsuse põhimõttel, kus andmete lugemiseks pöördutakse mõne sekundaarse andmebaasiserveri poole. Sellisel juhul võivad andmed olla siiski veidi vananenud &#150; tiražeerimisele kulub mõnesajast millisekundist paari sekundini [18].</span></p> 
   <h3 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="andmete_varundamine_ja_taastamine" id="andmete_varundamine_ja_taastamine"><span xml:lang="et-EE" lang="et-EE">7.4. Andmete varundamine ja taastamine</span></a></h3> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Andmebaasi sisu on võimalik varundada vastava tööriistaga, milleks on </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">SDK </span><span xml:lang="et-EE" lang="et-EE">paketiga kaasatulev skript </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">bulkloader.py</span><span xml:lang="et-EE" lang="et-EE">. Antud programm suudab rakenduse andmebaasist korraga kõik kirjed alla laadida ning need faili salvestada. Samuti oskab sama programm varundatud andmetega serveris endist seisu taastada.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Andmete varundamise võimaldamiseks tuleb lisada </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">app.yaml</span><span xml:lang="et-EE" lang="et-EE"> faili kirje, mis oskab suunata varundamispäringud õige programmi juurde. Juhul kui vastavat konfiguratsioonikirjet seatud pole, ei saa andmeid programmiliselt varundada ega taastada.</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">- url: /remote_api<br /> &nbsp;script: $PYTHON_LIB/google/appengine/ext/remote_api/handler.py<br /> &nbsp;login: admin</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Andmete varundamine faili toimub järgmise käsklusega: </span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">bulkloader.py --dump --app_id=&lt;app-id&gt; --url=&lt;host&gt;/remote_api --filename=&lt;file&gt;</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">kus </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">&lt;app-id&gt;</span><span xml:lang="et-EE" lang="et-EE"> on rakenduse identifikaator, </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">&lt;host&gt;</span><span xml:lang="et-EE" lang="et-EE"> rakenduse serveri aadress, näiteks </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">http://app_id.appspot.com</span><span xml:lang="et-EE" lang="et-EE"> ja </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">&lt;file&gt;</span><span xml:lang="et-EE" lang="et-EE"> on failinimi, kuhu andmed salvestatakse.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Andmete taastamine varundusfailist: </span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">bulkloader.py --restore --app_id=&lt;app-id&gt; --filename=&lt;file&gt; &lt;kataloog&gt;</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">kus </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">&lt;app-id&gt;</span><span xml:lang="et-EE" lang="et-EE"> on rakenduse identifikaator, </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">&lt;file&gt;</span><span xml:lang="et-EE" lang="et-EE"> on failinimi kus asuvad salvestatud andmed ning </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">&lt;kataloog&gt;</span><span xml:lang="et-EE" lang="et-EE"> on kataloog, kus asuvad rakenduse failid (sellest kataloogist otsitakse faili </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">app.yaml</span><span xml:lang="et-EE" lang="et-EE">).</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Varunduseks kasutatav fail on </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">SQLite </span><span xml:lang="et-EE" lang="et-EE">3 [19] tüüpi andmebaas ning selles asub kõiki varundatud andmeid sisaldav tabel </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">results</span><span xml:lang="et-EE" lang="et-EE">. Tabeli read koosnevad kirje unikaalsest võtmest ning </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Blob</span><span xml:lang="et-EE" lang="et-EE">-tüüpi väärtusest, milles seisab kirje tegelik sisu serialiseeritud andmebaasiobjektina </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Protocol Buffers</span><span xml:lang="et-EE" lang="et-EE"> formaadis.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Täiendava konfiguratsiooniga on andmeid võimalik importida ja eksportida </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i andmebaasi ka </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">CSV</span><span xml:lang="et-EE" lang="et-EE"> formaadis. Samuti saab käidelda kõiki tabeleid ükshaaval &#150; eelnevalt näidatud käsud varundavad ja taastavad kõiki rakenduse tabeleid korraga.</span></p> 
   <h2 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="teenusespetsiifilised_teegid" id="teenusespetsiifilised_teegid"><span xml:lang="et-EE" lang="et-EE">8. Teenusespetsiifilised teegid</span></a></h2> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Kui programmeerimiskeel </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Python</span><span xml:lang="et-EE" lang="et-EE"> 2.5 sisaldab juba iseenesest suhteliselt laias ulatuses erinevaid abistavaid teeke ning vaikimisi on kasutada suur hulk </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Django</span><span xml:lang="et-EE" lang="et-EE"> mooduleid, siis sellele lisanduvad mõned teenusespetsiifilised teegid, abistamaks rakendusi </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i platvormil paremini hakkama saama.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Näiteks saavad rakendused kasutada mugavat võimalust </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Users</span><span xml:lang="et-EE" lang="et-EE"> teegi abil tuvastada sisseloginud kasutajaid </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Google&#146;i Kontod</span><span xml:lang="et-EE" lang="et-EE"> liidese abil &#150; kasutaja saab rakendusse sisse logida sama kasutajanime ja parooliga, millega ta loeb oma </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">GMail </span><span xml:lang="et-EE" lang="et-EE">e-posti. Mainimist väärivad ka andmete puhverdamise teek </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Memcache</span><span xml:lang="et-EE" lang="et-EE"> ja suuremate tööde tegumiteks jagamise teek </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Tasks</span><span xml:lang="et-EE" lang="et-EE">. Järgmisena vaatamegi põgusalt mõningaid selliseid teeke.</span></p> 
   <h3 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="google_kontod" id="google_kontod"><span xml:lang="et-EE" lang="et-EE">8.1. Google&#146;i Kontod</span></a></h3> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> pakub arendajatele mugavat kasutajate haldust </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google&#146;i Kontod</span><span xml:lang="et-EE" lang="et-EE"> [20] liidese abil, nii pole endal vaja kogu vajalikku infrastruktuuri üleval pidada. Sama kasutajanime ja parooliga, millega kasutaja siseneb oma </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">GMail</span><span xml:lang="et-EE" lang="et-EE"> postkasti või kirjutab</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE"> Blogger</span><span xml:lang="et-EE" lang="et-EE"> teenuses blogipostitusi, saab ta sisse logida ka ükskõik millisesse </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i platvormil paiknevasse rakendusse.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google&#146;i Kontod</span><span xml:lang="et-EE" lang="et-EE"> kasutamiseks tuleb sisse laadida </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">users</span><span xml:lang="et-EE" lang="et-EE"> teek.</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">from google.appengine.api import users</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Programmi käigus saab kontrollida sisseloginud kasutaja staatust käsuga </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">users.get_current_user()</span><span xml:lang="et-EE" lang="et-EE"> &#150; sellega saab kätte sisseloginud kasutajaga seotud info või väärtuse </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">False</span><span xml:lang="et-EE" lang="et-EE">, kui kasutaja pole sisse logitud. Sisselogimisvormi aadressi, millele kasutaja enda tuvastamiseks suunata, saab genereerida meetodiga </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">users.create_login_url(sihtkoha_url)</span><span xml:lang="et-EE" lang="et-EE">.</span></p> 
   <h3 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="memcache" id="memcache"><span xml:lang="et-EE" lang="et-EE">8.2. Memcache</span></a></h3> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Memcached</span><span xml:lang="et-EE" lang="et-EE"> [21] on lihtne „võti-väärtus&ldquo; paaridel põhinev andmete puhverdamise süsteem, mis pakub võimalust hoida rakendustel puhverdatavaid andmeid mälus sessiooniüleselt. Näiteks kui laetakse andmebaasist andmeid, siis on neid mugav säilitada järgmiste lehevaatamiste jaoks juba mälus, nii pole vaja kulukaid andmebaasipäringuid puhvri kehtivusaja jooksul teha.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> kasutab modifitseeritud </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Memcached</span><span xml:lang="et-EE" lang="et-EE"> versiooni nimega </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Memcache</span><span xml:lang="et-EE" lang="et-EE">. Selle kasutamiseks tuleb sisse laadida </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">memcache</span><span xml:lang="et-EE" lang="et-EE"> teek.</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">from google.appengine.api import memcache</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Andmete puhverdamiseks tuleb kasutada meetodit </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">memcache.set(võti, väärtus)</span><span xml:lang="et-EE" lang="et-EE"> ja lugemiseks </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">memcache.get(võti)</span><span xml:lang="et-EE" lang="et-EE">. Puhverdada saab suvalisi andmestruktuure, sealhulgas näiteks andmebaasiobjekte.</span></p> 
   <h3 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="e-post" id="e-post"><span xml:lang="et-EE" lang="et-EE">8.3. E-post</span></a></h3> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> võimaldab nii e-posti saatmist kui vastuvõtmist. Vastuvõtmiseks tuleb registreerida haldaja, millele suunatakse kõik tingimusele vastavad sisenevad e-kirjad (eri aadressidele laekuvad e-kirjad saab suunata eri haldajatele). Nii saatmine kui vastuvõtmine on tehtud programmeerija jaoks mugavaks &#150; pole vaja näiteks spetsiifilisi teadmisi e-kirja tehnilisest ülesehitusest, e-kiri on </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i rakenduse jaoks lihtsalt järjekordne kindlate omadustega objekt.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i infrastruktuuri kuritarvitamise vältimiseks saab kirju välja saata ainult rakenduse administraatorite või hetkel sisse loginud kasutaja e-posti aadressidelt. See tähendab, et kuigi saatja nimeks võib panna suvalise tekstiväärtuse, siis kasutatavad saatja e-posti aadressid on väga piiratud.</span></p> 
   <h3 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="veebiaadresside_laadimine" id="veebiaadresside_laadimine"><span xml:lang="et-EE" lang="et-EE">8.4. Veebiaadressidelt sisu laadimine</span></a></h3> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Veebiaadressidelt sisu laadimiseks on kasutusel </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i spetsiifiline teek </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">urlfetch</span><span xml:lang="et-EE" lang="et-EE">. Tugi on olemas ka teiste sarnaste </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Pythoni</span><span xml:lang="et-EE" lang="et-EE"> teekide jaoks (näiteks </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">urllib</span><span xml:lang="et-EE" lang="et-EE"> või </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">urllib2</span><span xml:lang="et-EE" lang="et-EE">), kuid nende meetodid veebist sisu laadimiseks on tegelikult asendatud </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">urlfetch</span><span xml:lang="et-EE" lang="et-EE"> teegi meetoditega &#150; kõik andmete laadimised </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google</span><span xml:lang="et-EE" lang="et-EE">&#146;i infrastruktuuris käivad ühtedel ja samadel alustel ning samu vahendeid kasutades.</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">from google.appengine.api import urlfetch<br />url = "http://www.neti.ee/"<br />result = urlfetch.fetch(url)<br />print result.content</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Näites tehakse </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">GET-</span><span xml:lang="et-EE" lang="et-EE">päring aadressile </span><span style="font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">http://www.neti.ee/</span><span xml:lang="et-EE" lang="et-EE"> ning väljastatakse päringu vastusena saadud sisu ekraanile.</span></p> 
   <h3 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="piltide_redigeerimine" id="piltide_redigeerimine"><span xml:lang="et-EE" lang="et-EE">8.5. Piltide redigeerimine</span></a></h3> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Pildifaile on </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">images</span><span xml:lang="et-EE" lang="et-EE"> teegi abil võimalik redigeerida suhteliselt piiratud ulatuses. Saab muuta faili tüüpi, suurust, pilti lõigata ja pöörata. Samuti saab kasutada automaatset värvide korrigeerimise funktsiooni. Pildifaile saab hoida nagu muidki andmeid andmebaasis, seega ei tohi fail ületada 1 MB suurust. Sellest piirangust on võimalik mööda saada </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">BlobStore</span><span xml:lang="et-EE" lang="et-EE">&#146;i</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">&nbsp;</span><span xml:lang="et-EE" lang="et-EE">failihoidlat kasutades. Samas peab arvestama, et kuigi </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">BlobStore</span><span xml:lang="et-EE" lang="et-EE"> failihoidlas olev pilt võib olla väga suur, siis sellist pilti </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">images</span><span xml:lang="et-EE" lang="et-EE"> teegi abil töödeldes peab tulemus jääma ikkagi 1 MB piiridesse.</span></p> 
   <h3 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="tegumid" id="tegumid"><span xml:lang="et-EE" lang="et-EE">8.6. Tegumid</span></a></h3> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Tegumid on väikesteks ühikulisteks ülesanneteks jagatud suured tööd, mis edastatakse serverile ükshaaval täitmiseks. Sisuliselt on tegu millegi perioodiliste tööde laadsega, selle vahega, et kuigi tegumid käivitatakse samuti ükshaaval, siis mitte lõputult korrates kindla perioodi tagant, vaid nii kiiresti, kui serveri hetkevõimalused lubavad, ning kuni kõik ülesanded täidetud saavad. Mõlemal juhul teeb server kindlaksmääratud veebiaadressidele päringuid, mis vajalikud programmid käivitavad.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Näiteks saab ühe suure töö jagada mitmeks väikeseks tööks ja need ükshaaval tegumitena serverile ette anda. Kohe kui serveril tekib vabu ressursse tööde tegemiseks, hakkab ta neid tegumeid ükshaaval täitma. Kui perioodilise töö puhul tehakse skriptile </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">GET</span><span xml:lang="et-EE" lang="et-EE">-päringuid, siis tegumi puhul tehakse </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">POST</span><span xml:lang="et-EE" lang="et-EE">-päringud, võimaldades sellega anda tegumile ette suuremahulisi parameetreid.</span></p> 
   <h3 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="blobstore_failihoidla" id="blobstore_failihoidla"><span xml:lang="et-EE" lang="et-EE">8.7. BlobStore&#146;i failihoidla</span></a></h3> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">BlobStore</span><span xml:lang="et-EE" lang="et-EE">&#146;i failihoidla võimaldab rakendustel hallata suuremaid faile, kui andmebaasikirjete 1 MB limiit seda muidu lubaks. Nii saavad kasutajad mahupiirangutest hoolimata suuri faile üles ja alla laadida. Teenuse ebamugavaks küljeks on asjaolu, et kuigi faili vastuvõttev rakendus pääseb üleslaetud faili meta-andmetele probleemideta ligi, siis selle sisu saab lugeda maksimaalselt 1 MB suuruste lõikude kaupa.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Kui kasutaja soovib faili alla laadida, edastab päringuga tegelev programm faili identifikaatori </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">BlobStore</span><span xml:lang="et-EE" lang="et-EE">&#146;i teenusele ning </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">BlobStore</span><span xml:lang="et-EE" lang="et-EE"> asendab päringule vastust genereerides identifikaatori esialgse failiga. </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">BlobStore</span><span xml:lang="et-EE" lang="et-EE">&#146;i faili on võimalik kasutada ka pilditöötluse juures &#150; sellisel juhul tuleb pildiobjekti luues edastada parameetrina faili sisu asemel viit </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">BlobStore</span><span xml:lang="et-EE" lang="et-EE">&#146;i kirje juurde. Arvestada tuleb vaid sellega, et pilditöötluse tulemus peab jääma ikkagi 1 MB raamidesse.</span></p> 
   <h2 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="platvormide_huebriidlahendus" id="platvormide_huebriidlahendus"><span xml:lang="et-EE" lang="et-EE">9. Platvormide hübriidlahendus</span></a></h2> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Kuna </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> sobib oma omadustelt kõige paremini siiski vahetult külastajaid teenindama, siis erinevate taustatööde jaoks tasub kaaluda vastavalt oludele mõne muu platvormi kasutamist. Taustatöödeks võivad olla näiteks pidevad tegevused, mis võtavad suhteliselt palju aega (rohkem kui 30 sekundit) ning nõuavad kiiret (kirjutamise) ligipääsu andmebaasile. Kuna taustatöid on võimalik planeerida &#150; need ei teki reeglina ootamatult ning neid saab ka järjestada, võivad nõudmised vastavate serveriressursside suhtes jääda üsna tagasihoidlikeks.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Kulude kokkuhoiuks oleks mõistlik taustatööde tegemiseks kasutada mõnd odavat virtuaalserverit või virtuaalserverite komplekti (virtuaalserverite keskmine kuutasu on umbes 100 krooni), millel on küll palju võimalusi, kuid mis jääksid tavaolukorras suurte koormuste all hätta. Kui taustatööd on ajaliselt jaotatud, ei teki ühelgi ajahetkel serverile korraga väga suurt koormust ja see võimaldabki taolise odava lahenduse kasutusele võtta. Nii saab moodustada teenuste hübriidlahenduse, kus iga osapool teeb seda, mida paremini suudab.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Illustratiivseks näiteks võiks siinkohal olla internetiteenuse </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Twitter</span><span xml:lang="et-EE" lang="et-EE"> andmevoo [22] töötlus, kus</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE"> Twitter</span><span xml:lang="et-EE" lang="et-EE"> edastab jälgitavate kasutajate kirjutatud sõnumid andmevoo kaudu selleks soovi avaldanud klientrakendustele. Klientrakendus saab sõnumid </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Twitteri</span><span xml:lang="et-EE" lang="et-EE"> andmevoo kaudu kätte praktiliselt reaalajas ning saab sellega võimaluse sõnumeid kiirelt töödelda, kuvamaks neid veebilehel või lihtsalt indekseerides tuleviku päringute tarbeks.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Andmevoo vastuvõtmiseks tuleb avada </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Twitteri</span><span xml:lang="et-EE" lang="et-EE"> serverisse püsiv ühendus üle </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">HTTP</span><span xml:lang="et-EE" lang="et-EE"> protokolli, kus ühenduse avamise järel saab jääda kuulama selle kaudu saabuvaid andmeid. Andmevoog kujutab endast sisuliselt lõputu suurusega veebilehte, mille allalaadimine võtab lõputult aega. Algab see tavalisest </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">HTTP</span><span xml:lang="et-EE" lang="et-EE"> päisest, kus on jäänud märkimata </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Content-Length</span><span xml:lang="et-EE" lang="et-EE"> ehk laetava faili suuruse väärtus &#150; kuna sõnumeid edastatakse reaalajas ning ühenduse avamise hetkel neid veel ei eksisteeri, ei saagi see väärtus enne ühenduse lõpetamist teada olla. Pärast päist hakkavad reaalajas saabuma kasutajate kirjutatud sõnumid ning kui parasjagu ühtegi sõnumit näidata pole, saadetakse kliendile ühenduse elushoidmiseks reavahetuse sümboleid. Vastuvõttev programm laeb andmevoogu pidevalt alla, ise samal ajal uurides, kas viimati saabunud lõigu sees pole ka mõnd sõnumit. </span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">HTTP/1.1 200 OK<br />Connection: Keep-Alive<br />....<br /><br />sõnum1<br />\n<br />\n<br />sõnum2<br />....</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> sellist andmevoo töötlemist ei võimalda, kuna </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> lubab programmil töötada maksimaalselt vaid 30 sekundit ning välisühendusi saab teha ainult läbi </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">URLFetch</span><span xml:lang="et-EE" lang="et-EE"> teenuse, mis laeb veebist alla terve faili (kuni 1 MB mahus), sulgeb ühenduse ning edastab alles siis kõik laetud andmed korraga programmile. Andmevoo ühendust on aga vaja üleval hoida mitte 30 sekundit, vaid soovituslikult lõpmatult. Kui </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i korral on antud töö sooritamine probleemne, siis ometi sobib see hästi suvalisele virtuaalserverile, millel on </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">PHP</span><span xml:lang="et-EE" lang="et-EE"> tugi ning mis võimaldab programmil ise seada ja eemaldada oma käivitusaja piirangut.</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">set_time_limit(0);<br />ignore_user_abort(true);<br />....</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Antud </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">PHP</span><span xml:lang="et-EE" lang="et-EE">-keelne näide eemaldab programmilt käivitusaja piirangu (</span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">set_time_limit(0)</span><span xml:lang="et-EE" lang="et-EE">) ning võimaldab tööd jätkata isegi juhul, kui programmi käivitanud kasutaja on omalt poolt juba töö lõpetanud (</span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">ignore_user_abort(true)</span><span xml:lang="et-EE" lang="et-EE">). Kui selline programm käivitada, nii et see avab ühenduse </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Twitteri</span><span xml:lang="et-EE" lang="et-EE"> andmevoo teenusele, siis programm jääbki käima, sobides sellega suurepäraselt oma eesmärki täitma. </span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Loomulikult ei pruugi ühendused kesta lõputult. Katsetused näitavad, et ühendus kaob vähemalt korra päevas, kuid ühenduse olemasolu saab perioodiliste töödega erinevate meetodite abil pidevalt jälgida ning katkemise korral kiirelt taastada. Kuna </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Twitter</span><span xml:lang="et-EE" lang="et-EE"> võimaldab ajatempli alusel ka tagantjärele sõnumite voo taastamist, saab nii garanteerida programmi pideva töö, kuna ükski edastatud sõnum ei lähe kaotsi ning jõuab halvemal juhul kohale vaid paariminutilise viivitusega. Tänapäevased virtuaalserverite pakkujad suudavad tagada üsnagi hea serverite töövõimeaja &#150; seda ei kinnitata küll </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">SLA</span><span xml:lang="et-EE" lang="et-EE"> lepinguga, kuid praktilisest küljest on tegu täiesti piisava ressursiga.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Kui programm võtab andmevoo kaudu vastu uue sõnumi, saab ta esialgse töötluse teostada ise ning edastada selle siis </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i serverile, mis teenindab juba lõppkasutajaid. Üksikute sõnumite sisestamine </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i andmebaasi ei ole teenusele eriti koormav ning andmebaasist sõnumite lugemine ja kasutajatele esitamine käib väga kiirelt.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Küsimus on, millises formaadis oleks kõige parem andmeid serverilt serverile edastada. Kuna </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">HTTP </span><span xml:lang="et-EE" lang="et-EE">päringutega saab edastada ainult teksti, tuleb andmeobjektid eelnevalt kuidagi serialiseerida. Arvestada tuleb sellega, et kiiruse (nii andmeedastuse kui programmeerimise mõistes) saavutamiseks peaks tegu olema võimalikult väikesemahulise ning kiirelt töödeldava tulemusega.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Üheks laiemalt levinud formaadiks on kujunenud </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">SOAP</span><span xml:lang="et-EE" lang="et-EE"> protokolli abil </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">XML</span><span xml:lang="et-EE" lang="et-EE">-formaadis andmete edastus. </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> ise kasutab platvormisiseselt vastavaks otstarbeks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Protocol Buffers</span><span xml:lang="et-EE" lang="et-EE"> formaati, mis on ülikompaktne ning väga kiirelt töödeldav (</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google</span><span xml:lang="et-EE" lang="et-EE">&#146;i andmetel 20 kuni 100 korda kiirem [23] kui samade andmete </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">XML</span><span xml:lang="et-EE" lang="et-EE">-formaadis töötlemine). </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Python</span><span xml:lang="et-EE" lang="et-EE"> toetab andmete serialiseerimiseks vaikimis </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">pickle</span><span xml:lang="et-EE" lang="et-EE">-formaati [24], </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> pakub </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Pythonile</span><span xml:lang="et-EE" lang="et-EE"> lisaks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">YAML</span><span xml:lang="et-EE" lang="et-EE"> tuge. Laiemat kasutuspinda on hakanud koguma ka </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Facebooki</span><span xml:lang="et-EE" lang="et-EE"> poolt arendatud </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Thrift</span><span xml:lang="et-EE" lang="et-EE"> [25].</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Kuna eelpoolmainitud näite puhul peaksid omavahel suhtlema </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">PHP</span><span xml:lang="et-EE" lang="et-EE"> ja </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Python</span><span xml:lang="et-EE" lang="et-EE"> ning tõenäoliselt ka veebibrauseri poolel </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">JavaScript</span><span xml:lang="et-EE" lang="et-EE">, oleks mõistlik valida nende platvormide madalaim ühisnimetaja. Andmevahetusformaadi puhul võiks selleks olla </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">JSON</span><span xml:lang="et-EE" lang="et-EE"> [26], mida toetavad kõik mainitud platvormid ning mis on väga kergelt ja kiiresti töödeldav. Andmete saatmiseks teenuselt teenusele oleks täpsemalt tegu </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">JSON-RPC</span><span xml:lang="et-EE" lang="et-EE"> [27] kaugkutse protokolliga (hetkel aktiivne versioon 1.0). Antud protokolli suureks plussiks on üsna väike protokolli ballast, sisaldades endas vaid paari juhtimisväärtust, millest peamine on kaugkutse meetodi nimetus.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">PHP</span><span xml:lang="et-EE" lang="et-EE"> võimaldab </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">JSONi</span><span xml:lang="et-EE" lang="et-EE"> serialiseerimist käskudega </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">json_encode(object) </span><span style="font-size:10pt;font-family:'Courier New'" xml:lang="et-EE" lang="et-EE">→</span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE"> string</span><span xml:lang="et-EE" lang="et-EE"> ja </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">json_decode(string) </span><span style="font-size:10pt;font-family:'Courier New'" xml:lang="et-EE" lang="et-EE">→</span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE"> object</span><span xml:lang="et-EE" lang="et-EE">. </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Pythoni</span><span xml:lang="et-EE" lang="et-EE"> puhul saab kasutada </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Django</span><span xml:lang="et-EE" lang="et-EE"> teeki </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">simplejson</span><span xml:lang="et-EE" lang="et-EE">, mille saab importida paketist </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">django.utils</span><span xml:lang="et-EE" lang="et-EE"> ja millega saab serialiseerimist läbi viia käskudega </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">simplejson.dumps(object) </span><span style="font-size:10pt;font-family:'Courier New'" xml:lang="et-EE" lang="et-EE">→</span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE"> string</span><span xml:lang="et-EE" lang="et-EE"> ja </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">json.loads(string) </span><span style="font-size:10pt;font-family:'Courier New'" xml:lang="et-EE" lang="et-EE">→</span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE"> object</span><span xml:lang="et-EE" lang="et-EE">.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">JSON-RPC</span><span xml:lang="et-EE" lang="et-EE"> päringud on nimele vastavalt </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">JSON</span><span xml:lang="et-EE" lang="et-EE">-formaadis, sisaldades kolme parameetrit: </span></p> 
   <ul> 
    <li dir="ltr" style="text-align:justify;margin-bottom:10pt">&nbsp;<span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">method</span><span xml:lang="et-EE" lang="et-EE"> &#150; kaugkutse meetodi tekstiline nimetus</span></li> 
    <li dir="ltr" style="text-align:justify;margin-bottom:10pt">&nbsp;<span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">params</span><span xml:lang="et-EE" lang="et-EE"> &#150; meetodile edastatavate parameetrite massiiv</span></li> 
    <li dir="ltr" style="text-align:justify;margin-bottom:10pt">&nbsp;<span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">id</span><span xml:lang="et-EE" lang="et-EE"> &#150; päringu ID, mis tagastatakse koos vastusega</span>    </li> 
   </ul> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Vastus võib sisaldada samuti kolme parameetrit: </span></p> 
   <ul> 
    <li dir="ltr" style="text-align:justify;margin-bottom:10pt">&nbsp;<span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">result</span><span xml:lang="et-EE" lang="et-EE"> &#150; vastusobjekt (juhul kui ilmnes viga, peab see väärtus olema seadmata)</span></li> 
    <li dir="ltr" style="text-align:justify;margin-bottom:10pt">&nbsp;<span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">error</span><span xml:lang="et-EE" lang="et-EE"> &#150; veaobjekt juhul kui ilmnes viga, vastasel korral seadmata</span></li> 
    <li dir="ltr" style="text-align:justify;margin-bottom:10pt">&nbsp;<span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">id</span><span xml:lang="et-EE" lang="et-EE"> &#150; päringu ID, mis anti päringut tehes</span>    </li> 
   </ul> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Näiteks </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Twitteri</span><span xml:lang="et-EE" lang="et-EE"> sõnumi edastamine </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">JSON-RPC</span><span xml:lang="et-EE" lang="et-EE"> protokolli abil võiks välja näha järgnevalt:</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">--&gt;{"method":"uusTekst",params:["Peeter Meeter","Tere õhtust"],"id":1}<br />&lt;--{"result":"Sõnum on lisatud","error": null,"id":1}</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Sellisel juhul kutsub </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">PHP</span><span xml:lang="et-EE" lang="et-EE"> esile </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i rakenduses kaugkäsu </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">uusTekst</span><span xml:lang="et-EE" lang="et-EE"> käivitamise parameetritega „</span><span style="font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Peeter Meeter&ldquo;</span><span xml:lang="et-EE" lang="et-EE"> (kasutaja nimi) ja „</span><span style="font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Tere õhtust&ldquo;</span><span xml:lang="et-EE" lang="et-EE"> (sõnumi sisu). </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> vastab teatega</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">&nbsp;</span><span xml:lang="et-EE" lang="et-EE">„</span><span style="font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">Sõnum on lisatud&ldquo;</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Lihtne </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">JSON-RPC Pythoni</span><span xml:lang="et-EE" lang="et-EE"> implementatsioon </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i platvormil näeks välja järgmine. Defineeritud on kaks klassi &#150; </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">RPCMethods</span><span xml:lang="et-EE" lang="et-EE">, mis sätestab kasutatavad kaugkutsekäsud ning </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">RPCHandler</span><span xml:lang="et-EE" lang="et-EE">, mis võtab vastu </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">HTTP POST</span><span xml:lang="et-EE" lang="et-EE">-päringu ja käivitab vastavalt päringule kaugkutsekäsu </span><span style="font-size:10pt;font-family:'Consolas'" xml:lang="et-EE" lang="et-EE">RPCMethod</span><span xml:lang="et-EE" lang="et-EE"> klassist.</span></p> 
   <p class="preformatted_text" awml:style="Preformatted Text" dir="ltr" style="text-align:left;margin-bottom:5pt"><span xml:lang="et-EE" lang="et-EE">from django.utils import simplejson<br /><br />class RPCMethods:<br /> &nbsp;def uusTekst(self, args, rpc_id):<br /> &nbsp;&nbsp;&nbsp;nimi = args[0]<br /> &nbsp;&nbsp;&nbsp;sonum = args[1]<br /> &nbsp;&nbsp;&nbsp;....<br /> &nbsp;&nbsp;&nbsp;return {"result":u"Sõnum on sisestatud",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"error": None,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"id":rpc_id}<br /> <br />class RPCHandler(webapp.RequestHandler):<br /> &nbsp;def post(self):<br /> &nbsp;&nbsp;&nbsp;args = simplejson.loads(self.request.body)<br /> &nbsp;&nbsp;&nbsp;func, args, rpc_id = args["method"], args["params"], args["id"]<br /> &nbsp;&nbsp;&nbsp;func = getattr(RPCMethods(), func, None)<br /> &nbsp;&nbsp;&nbsp;result = func(args, rpc_id)<br /> &nbsp;&nbsp;&nbsp;self.response.out.write(simplejson.dumps(result))</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Antud lahenduse puhul tuleb siiski meeles pidada, et tegu on küll töötava, kuid siiski lihtsustatud ja ebaturvalise näitega &#150; kaugkutsekäsu käivitamisel tuleks muu hulgas kontrollida, kas käsu nimetus ei alga allkriipsuga _ (klassi privaatsed meetodid), samuti puudub igasugune veahaldus.</span></p> 
   <h2 dir="ltr" style="text-align:justify;margin-top:10pt"><a name="kokkuvotteks" id="kokkuvotteks"><span xml:lang="et-EE" lang="et-EE">10. Kokkuvõtteks</span></a></h2> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Kuigi </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;il on veel mitmeid vajakajäämisi, tasub uue veebirakenduse loomisel selle platvormi kasutamist kindlasti kaaluda. Viimase kahe aasta jooksul on teenuselt lihvitud maha nii mõnigi teravam nurk ja see trend paistab jätkuvat. Seega tänane piirang võib täiesti vabalt olla homseks ajalugu &#150; nii on juhtunud näiteks algselt täielikult puudunud suurte failide toega ning </span><span style="font-style:italic;font-size:10pt;font-family:'Times New Roman'" xml:lang="et-EE" lang="et-EE">wildcard</span><span xml:lang="et-EE" lang="et-EE"> alamdomeenidega. Samuti on tööplaanis ette nähtud praeguse hetke ühe suurima piirangu lahendamine, milleks on </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">HTTPS</span><span xml:lang="et-EE" lang="et-EE"> toe lisamine oma domeeni kasutamisel.</span></p> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Positiivse külje pealt võimaldab </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> luua väga suurelt skaleeruvaid rakendusi minimaalsete investeeringutega. Rakenduse tööks pole vaja rentida ega osta kallist riistvara, pole tarvis seda platvormi hooldada ega maksta liitumis- või perioodilisi hooldustasusid. Hinnastamine on täiesti läbipaistev ning mingi piirini on teenus hoopis tasuta.</span></p> 
   <p dir="ltr" style="text-align:left;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Mina jõudsin </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i juurde, kui otsisin sobivat platvormi SMS-maksete kogumise rakendusele </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">SMS-Publisher</span><span xml:lang="et-EE" lang="et-EE"> [28]. </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">SMS-Publisheri</span><span xml:lang="et-EE" lang="et-EE"> näol on tegemist omamoodi vahekihiga mobiilimaksete platvormi Fortumo [29] ja kasutajate vahel, kes saavad läbi antud teenuse kasutada Fortumo keerulisemaid võimalusi ilma programmeerimisest midagi teadmata. Teenust kasutatakse praeguseks aktiivselt Lätis, Horvaatias, Rumeenias ning isegi Malaisias &#150; mitte ükski teine platvorm peale </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i poleks suutnud pakkuda sama hinna ja kvaliteedi suhtega niivõrd laia geograafilist ala katvat lahendust.</span></p> 
   <p dir="ltr" style="text-align:left;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Rakenduse arendamisega alustamine võib olla küll suhteliselt tülikas &#150; tuleb näiteks väga täpselt jälgida ja arvestada andmebaasi piiranguid, mida muude platvormide puhul teha vaja ei ole, kuid selle tulemuseks on väga töökindel rakendus. Juhul kui rakendus töötab juba saja andmebaasi kirjega, siis saab see sama hästi hakkama ka miljoniga.</span></p> 
   <p dir="ltr" style="text-align:left;margin-bottom:10pt"><span xml:lang="et-EE" lang="et-EE">Andris Reinman <br />Tarkvara disainer, NETI<br />TLÜ IT-juhtimise magistrant </span></p> 
   <h2 dir="ltr" style="text-align:justify;margin-top:10pt"><span xml:lang="et-EE" lang="et-EE">11. Viited</span></h2> 
   <p dir="ltr" style="text-align:left;margin-bottom:6pt"><span xml:lang="et-EE" lang="et-EE">[1] </span><a href="http://code.google.com/intl/et/appengine/"><span xml:lang="et-EE" lang="et-EE">http://code.google.com/intl/et/appengine/</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google &nbsp;App Engine</span><span xml:lang="et-EE" lang="et-EE"><br />[2] </span><a href="http://www.gmail.com/"><span xml:lang="et-EE" lang="et-EE">http://www.gmail.com/</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google Mail</span><span xml:lang="et-EE" lang="et-EE"><br />[3] </span><a href="http://aws.amazon.com/ec2/"><span xml:lang="et-EE" lang="et-EE">http://aws.amazon.com/ec2/</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Amazon Elastic Compute Cloud (EC2)</span><span xml:lang="et-EE" lang="et-EE"><br />[4] </span><a href="http://en.wikipedia.org/wiki/Slashdot_effect"><span xml:lang="et-EE" lang="et-EE">http://en.wikipedia.org/wiki/Slashdot_effect</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Slashdot effect</span><span xml:lang="et-EE" lang="et-EE"><br />[5] </span><a href="http://aws.amazon.com/"><span xml:lang="et-EE" lang="et-EE">http://aws.amazon.com/</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Amazon Web Services</span><span xml:lang="et-EE" lang="et-EE"><br />[6] </span><a href="http://www.caucho.com/resin-3.0/quercus/"><span xml:lang="et-EE" lang="et-EE">http://www.caucho.com/resin-3.0/quercus/</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Querqus</span><span xml:lang="et-EE" lang="et-EE"><br />[7] </span><a href="http://en.wikipedia.org/wiki/Https"><span xml:lang="et-EE" lang="et-EE">http://en.wikipedia.org/wiki/Https#Limitations</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; Wikipedia kirje </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">HTTPS</span><span xml:lang="et-EE" lang="et-EE"> piirangute kohta<br />[8] </span><a href="http://code.google.com/intl/ko-KR/appengine/docs/roadmap.html"><span xml:lang="et-EE" lang="et-EE">http://code.google.com/intl/ko-KR/appengine/docs/roadmap.html</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE"> tööplaan<br />[9] </span><a href="http://appscale.cs.ucsb.edu/"><span xml:lang="et-EE" lang="et-EE">http://appscale.cs.ucsb.edu/</span></a><span xml:lang="et-EE" lang="et-EE">&nbsp;</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">&#150; AppScale</span><span xml:lang="et-EE" lang="et-EE"><br />[10] </span><a href="http://www.google.com/datacenter/hamina/index.html"><span xml:lang="et-EE" lang="et-EE">http://www.google.com/datacenter/hamina/index.html</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google</span><span xml:lang="et-EE" lang="et-EE">&#146;i andmekeskus Soomes<br />[11] </span><a href="http://code.google.com/intl/et/appengine/downloads.html"><span xml:lang="et-EE" lang="et-EE">http://code.google.com/intl/et/appengine/downloads.html</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&nbsp;</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">SDK</span><span xml:lang="et-EE" lang="et-EE"><br />[12] </span><a href="http://www.appspot.com/"><span xml:lang="et-EE" lang="et-EE">http://www.appspot.com/</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google App Engine</span><span xml:lang="et-EE" lang="et-EE">&#146;i rakendused<br />[13] </span><a href="http://www.google.com/apps/intl/en/group/index.html"><span xml:lang="et-EE" lang="et-EE">http://www.google.com/apps/intl/en/group/index.html</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google Apps Standard edition</span><span xml:lang="et-EE" lang="et-EE"><br />[14] </span><a href="http://www.djangoproject.com/"><span xml:lang="et-EE" lang="et-EE">http://www.djangoproject.com/</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Django web framework</span><span xml:lang="et-EE" lang="et-EE"><br />[15] </span><a href="http://www.djangoproject.com/documentation/0.96/templates/"><span xml:lang="et-EE" lang="et-EE">http://www.djangoproject.com/documentation/0.96/templates/</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Django template language</span><span xml:lang="et-EE" lang="et-EE"><br />[16] </span><a href="http://www.yaml.org/"><span xml:lang="et-EE" lang="et-EE">http://www.yaml.org/</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">YAML Ain't Markup Language</span><span xml:lang="et-EE" lang="et-EE"><br />[17] </span><a href="http://code.google.com/appengine/docs/python/datastore/gqlreference.html"><span xml:lang="et-EE" lang="et-EE">http://code.google.com/appengine/docs/python/datastore/gqlreference.html</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">GQL</span><span xml:lang="et-EE" lang="et-EE"><br />[18] </span><a href="http://googleappengine.blogspot.com/2010/03/read-consistency-deadlines-more-control.html"><span xml:lang="et-EE" lang="et-EE">http://googleappengine.blogspot.com/2010/03/read-consistency-deadlines-more-control.html</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">GAE Datastore Read consistency<br /></span><span xml:lang="et-EE" lang="et-EE">[19] </span><a href="http://www.sqlite.org/version3.html"><span xml:lang="et-EE" lang="et-EE">http://www.sqlite.org/version3.html</span></a><span xml:lang="et-EE" lang="et-EE">&nbsp;</span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">&#150; SQLite</span><span xml:lang="et-EE" lang="et-EE"> versioon 3<br />[20] </span><a href="https://www.google.com/accounts/"><span xml:lang="et-EE" lang="et-EE">https://www.google.com/accounts/</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Google&#146;i Kontod</span><span xml:lang="et-EE" lang="et-EE"> teek kasutajate tuvastamiseks<br />[21] </span><a href="http://www.memcached.org/"><span xml:lang="et-EE" lang="et-EE">http://www.memcached.org/</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Memcached</span><span xml:lang="et-EE" lang="et-EE"> andmete puhverdamise moodul<br />[22] </span><a href="http://apiwiki.twitter.com/Streaming-API-Documentation"><span xml:lang="et-EE" lang="et-EE">http://apiwiki.twitter.com/Streaming-API-Documentation</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Twitter Streaming API</span><span xml:lang="et-EE" lang="et-EE"><br />[23] </span><a href="http://code.google.com/intl/et/apis/protocolbuffers/docs/overview.html"><span xml:lang="et-EE" lang="et-EE">http://code.google.com/intl/et/apis/protocolbuffers/docs/overview.html#whynotxml</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Protocol Buffers Developer Guide<br /></span><span xml:lang="et-EE" lang="et-EE">[24] </span><a href="http://docs.python.org/library/pickle.html"><span xml:lang="et-EE" lang="et-EE">http://docs.python.org/library/pickle.html</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Python object serialization</span><span xml:lang="et-EE" lang="et-EE"><br />[25] </span><a href="http://incubator.apache.org/thrift/"><span xml:lang="et-EE" lang="et-EE">http://incubator.apache.org/thrift/</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">Apache Thrift</span><span xml:lang="et-EE" lang="et-EE"><br />[26] </span><a href="http://www.json.org/"><span xml:lang="et-EE" lang="et-EE">http://www.json.org/</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">JavaScript Object Notation</span><span xml:lang="et-EE" lang="et-EE"><br />[27] </span><a href="http://json-rpc.org/"><span xml:lang="et-EE" lang="et-EE">http://json-rpc.org/</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">JSON-RPC</span><span xml:lang="et-EE" lang="et-EE"><br />[28] </span><a href="http://www.sms-publisher.com/"><span xml:lang="et-EE" lang="et-EE">http://www.sms-publisher.com/</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; </span><span style="font-style:italic" xml:lang="et-EE" lang="et-EE">SMS-Publisher</span><span xml:lang="et-EE" lang="et-EE"><br />[29] </span><a href="http://fortumo.ee/"><span xml:lang="et-EE" lang="et-EE">http://fortumo.ee/</span></a><span xml:lang="et-EE" lang="et-EE"> &#150; Fortumo</span></p> 
   <p></p> 
   <p>   </p> 
  </div> 
  <div id="footer"> 
   <p dir="ltr" style="text-align:justify;margin-bottom:10pt">   </p> 
  </div> 
 </body> 
</html> 